<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<script type="text/javascript" src="jquery.min.js"> </script>
</head>
<body>

	<select onchange="chamarFuncao(this)" id="opcoes">
		<option value="0">Escolha uma opção</option>
		<option id="1" value="1">Cº > Fº</option>
		<option id="2" value="2">Ano</option>
		<option id="3" value="3">valor 3</option>
	</select>

	<div class="container" id="conteudo">

	</div>

	<script>
		var div = document.getElementById('conteudo')
		div.innerHTML = '<p> Selecione uma opção </p>'	
		
		function chamarFuncao (valor) {
			var values = valor.value;  
			var div = document.getElementById('conteudo')
			div.innerHTML = '<p> Selecione uma opção </p>'	

			//Escolher uma opção
			if (values == '0') {
				div.innerHTML = '<p> Selecione uma opção </p>'
				var x = document.getElementById("EscolherAno");
				if(x) {
					var obj = document.getElementById("EscolherAno");
					obj.remove();
				}
			}
			//calcular temperatura
			if (values == '1') {
				
				div.innerHTML = '<h1> Calcular c para f </h1>'
				div.innerHTML += '<input onkeyup="funcaoCal(\'c\')" id="c" type="number" name="c" placeholder="insirir valor de c" ><input onkeyup="funcaoCal(\'f\')" id="f" type="number" name="f" placeholder="insirir valor de f" >'
				var x = document.getElementById("EscolherAno");
				if(x) {
					var obj = document.getElementById("EscolherAno");
					obj.remove();
				}
			}
			//calcular anos
			if (values == '2') {
				div.innerHTML = '<h1> Calcular ano </h1>'
				var myParent = document.body;

				//Create array of options to be added
				var ano = [];
				for (var z = 1950; z <= 2021; z++) {
					x = z
					if (x <= 2021) {
						ano.push(x)
					}
				}

				//Create and append select list
				var selectList = document.createElement("select");
				selectList.id = "EscolherAno";
				selectList.className = "teste"
				myParent.appendChild(selectList);
				var o = document.createElement("option");
				    o.value = 0;
				    o.text = "selecione uma data";
				    o.id = 0;
				    selectList.appendChild(o);
				//Create and append the options
				for (var i = 0; i < ano.length; i++) {
				    var option = document.createElement("option");
				    option.value = ano[i];
				    option.text = ano[i];
				    option.id = ano[i];
				    selectList.appendChild(option);
				}

				document.getElementById("EscolherAno").onchange = function (e) {
					if (this.value === 0) {
						var p = document.createElement("P")
						var t = document.createTextNode("selecione um ano")
					}
					y = new Date().getFullYear()
					a = this.value 
					r = y-a

					x = document.createElement("SPAN")
					var t = document.createTextNode("você tem " + r);
					x.appendChild(t);
					document.body.appendChild(x);
				}
			}

			if (values == '3') {
				div.innerHTML = '<h3> teste valor 3 </h3>'
			}
		}

		function funcaoCal(tipo){
			if (tipo === 'c') {
				var c = eval(document.getElementById('c').value)
				console.log(c)
				var t = eval(c.value)
				console.log(t)
				var soma = (c*9/5) + 32
				document.getElementById('f').value = soma
				console.log(soma)
			}
			if (tipo === 'f') {
				var f = eval(document.getElementById('f').value)
				console.log(f)
				var soma = (f-32) * 5/9
				document.getElementById('c').value = soma
			}
		}


		//json com api dolar hoje
		var endereco = 'https://economia.awesomeapi.com.br/all/USD-BRL';
		$.ajax({
			url: endereco,
			complete: function(res){
				var meuJSON = JSON.parse(res.responseText);
				console.log(meuJSON); 
			}
		});


	</script>
</body>
</html>